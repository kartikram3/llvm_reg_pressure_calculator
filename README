You can calculate LLVM IR max register pressure using this code.

Steps to compile and run the code :

1. Make sure that llvm-config is visible in your path. Type ' which llvm-config'
   and check that you get the path to your llvm config. The version I have tested
   this code for is llvm-3.6.1.

2. Type 'make' and the executable 'reg_pressure' should be generated. 

3. Type ' ./reg_pressure ./sample/example.ll ' to obtain reg pressure for some example 
   LLVM IR file.
